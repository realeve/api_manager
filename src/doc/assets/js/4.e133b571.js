(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{158:function(s,t,a){s.exports=a.p+"assets/img/new_01.0ac9577d.png"},159:function(s,t,a){s.exports=a.p+"assets/img/new_02.45304aa0.png"},160:function(s,t,a){s.exports=a.p+"assets/img/new_03.bd47af5c.png"},161:function(s,t,a){s.exports=a.p+"assets/img/new_04.f2da9327.png"},175:function(s,t,a){"use strict";a.r(t);var n={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(1),r=Object(e.a)(n,function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[n("h1",{attrs:{id:"第一个接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一个接口","aria-hidden":"true"}},[s._v("#")]),s._v(" 第一个接口")]),s._v(" "),n("h2",{attrs:{id:"增加接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#增加接口","aria-hidden":"true"}},[s._v("#")]),s._v(" 增加接口")]),s._v(" "),n("p",[s._v("点击 API 列表右侧上方的【新增】按钮，打开新增 API 的界面:\n"),n("img",{attrs:{src:a(95),alt:"img"}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\ta"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name 品种"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name 月份"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token keyword"}},[s._v("type")]),s._v(" 缺陷类型"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 缺陷数量\n"),n("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\ttbl_sample_fake_type "),n("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a\n"),n("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v("\n\t"),n("span",{attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'褶子'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("将其粘贴到 SQL 查询语句 输入框中，然后点击 【查询】按钮：\n"),n("img",{attrs:{src:a(158),alt:"img"}})]),s._v(" "),n("p",[s._v("此时查询参数中 type = '褶子' 将 type 自动视为查询参数，并将后续的字段替换为 type:")]),s._v(" "),n("p",[n("img",{attrs:{src:a(159),alt:"img"}})]),s._v(" "),n("p",[s._v("输入接口名称及选择好数据库后点击添加，一个接口便添加完成：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(160),alt:"img"}})]),s._v(" "),n("h2",{attrs:{id:"调用接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#调用接口","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用接口")]),s._v(" "),n("p",[s._v("ctrl+f5 刷新页面，找到最新添加的这个接口，点击右侧调用代码，页面自动滚动到顶部并出现如下的说明：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(161),alt:"img"}})]),s._v(" "),n("h3",{attrs:{id:"_1-get-请求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-get-请求","aria-hidden":"true"}},[s._v("#")]),s._v(" 1. get 请求")]),s._v(" "),n("p",[s._v("为了方便说明，后续我们不再截图，直接查看系统给出的示例代码如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("/**\n *   @database: { 接口管理 }\n *   @desc:     { 接口测试 }\n */")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{attrs:{class:"token function-variable function"}},[s._v("getSampleFakeType")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),n("span",{attrs:{class:"token function"}},[s._v("axios")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    url"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    params"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("此处以 axios 调用为例，展示了前台 get 方法调用接口的示例代码，此处已将数据库中的表单 "),n("em",[s._v("tbl_sample_fake_type")]),s._v(" 自动转为 "),n("em",[s._v("getSampleFakeType。")])]),s._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("请求方式")]),s._v(" "),n("p",[s._v("get 调用代码由系统默认复制到剪贴板中，点击按钮后可直接粘贴到前台。在默认的 get 方式调用中，适用于请求的参数不大的情况，如果需要一次性发送较大量的数据，建议使用 POST 模式。另外，默认的 get 方式除了适用于 web 开发外，微信小程序也同样适用。")])]),s._v(" "),n("h3",{attrs:{id:"_2-post-请求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-post-请求","aria-hidden":"true"}},[s._v("#")]),s._v(" 2. post 请求")]),s._v(" "),n("p",[s._v("系统自动生成的 post 请求数据代码如下，适用于前台提交大量表单的场景：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("/** 数据量较大时建议使用post模式：\n *\n *   @database: { 接口管理 }\n *   @desc:     { 接口测试 }\n */")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{attrs:{class:"token function-variable function"}},[s._v("getSampleFakeType")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),n("span",{attrs:{class:"token function"}},[s._v("axios")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    method"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'post'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    data"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      id"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("51")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      nonce"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'65b5c14441'")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_3-node-js-调用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-node-js-调用","aria-hidden":"true"}},[s._v("#")]),s._v(" 3. Node.js 调用")]),s._v(" "),n("p",[s._v("由于 node 不支持直接"),n("em",[s._v("export")]),s._v("，所以单独将 node 端的调用方式分离如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("/** NodeJS服务端调用：\n *\n *   @database: { 接口管理 }\n *   @desc:     { 接口测试 }\n */")]),s._v("\nmodule"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[s._v("getSampleFakeType")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),n("span",{attrs:{class:"token function"}},[s._v("axios")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    url"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    params"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_4-调用系统生成的代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-调用系统生成的代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 4. 调用系统生成的代码")]),s._v(" "),n("p",[s._v("假设对应代码片断存为 "),n("em",[s._v("db.js")]),s._v("，对接口逻辑的调用示例如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("// 业务逻辑")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("as")]),s._v(" db "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'./db.js'")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("fetchData")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" res "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getSampleFakeType")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'折子'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"接口输出字段说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接口输出字段说明","aria-hidden":"true"}},[s._v("#")]),s._v(" 接口输出字段说明")]),s._v(" "),n("p",[s._v("前后端分离的架构中，前台和后台的数据格式往往存在一定差异，为了将这种差异通过一种较通用的方式约定以满足更广泛的需要，我们设计了这样的数据结构方案。")]),s._v(" "),n("h3",{attrs:{id:"接口字段"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接口字段","aria-hidden":"true"}},[s._v("#")]),s._v(" 接口字段")]),s._v(" "),n("p",[s._v("这里我们以一个示例接口"),n("a",{attrs:{href:"http://localhost:90/api/50/f317ed4bb9/5.json",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:90/api/50/f317ed4bb9/5.json"),n("OutboundLink")],1),s._v("为例说明接口的参数构成。")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"data"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"工序"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"胶印"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"作废类型"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"粘纸"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"作废数"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"0"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"品种"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"A"')]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"工序"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"胶印"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"作废类型"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"粘纸"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"作废数"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"0"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token property"}},[s._v('"品种"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"B"')]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"rows"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("205")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"ip"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"header"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v('"工序"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"作废类型"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"作废数"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"品种"')]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"title"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"作废类型分布"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"time"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"11.316ms"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"source"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"数据来源：接口管理"')]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("系统默认输出 json 格式的数据，如果我们希望输出 xml 格式，只需要将后缀 json 改为 xml 即可"),n("a",{attrs:{href:"http://localhost:90/api/50/f317ed4bb9/5.xml",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:90/api/50/f317ed4bb9/5.xml"),n("OutboundLink")],1),s._v(":")]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("think")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("data")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("0"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("工序")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("胶印"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("工序")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("作废类型")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("粘纸"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("作废类型")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("作废数")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("0"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("作废数")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("品种")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("A"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("品种")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("1"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("工序")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("胶印"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("工序")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("作废类型")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("粘纸"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("作废类型")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("作废数")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("0"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("作废数")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("品种")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("B"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("品种")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("data")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rows")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("205"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rows")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("ip")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("0.0.0.0"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("ip")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("header")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("0"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("工序"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("1"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("作废类型"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("2"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("作废数"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("item")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("3"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("品种"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("item")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("header")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("title")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("作废类型分布"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("title")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("time")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("15.618ms"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("time")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("cache")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("length")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("300"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("length")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("time")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("2018-12-06 23:42:48"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("time")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("cache")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("source")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("数据来源：接口管理"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("source")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("think")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("p",[s._v("此处我们仅对 JSON 接口的输出说明如下：")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("type")]),s._v(" TItem "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("number")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("number")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("void")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("ApiSchema")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  data"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("Array")]),n("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("TItem"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  rows"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("number")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ip"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  header"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("Array")]),n("span",{attrs:{class:"token operator"}},[s._v("<")]),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),n("span",{attrs:{class:"token operator"}},[s._v(">")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  title"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  time"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  source"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("string")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("ul",[n("li",[s._v("data：表示接口的数据体")]),s._v(" "),n("li",[s._v("rows：表示数据行数，如果无数据返回则 rows 为 0")]),s._v(" "),n("li",[s._v("ip：表示请求端 ip")]),s._v(" "),n("li",[s._v("header：对应数据库中的字段")]),s._v(" "),n("li",[s._v("title：对应接口创建时的名称，同时作为注释信息显示在调用代码中")]),s._v(" "),n("li",[s._v("time：表示接口响应时间，用于调试")]),s._v(" "),n("li",[s._v("source：表示接口读取自哪个数据库；")])]),s._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("通用接口-获取用户 ip")]),s._v(" "),n("p",[s._v("http://localhost/api/ip")])]),s._v(" "),n("h3",{attrs:{id:"rows"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rows","aria-hidden":"true"}},[s._v("#")]),s._v(" rows")]),s._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("返回状态")]),s._v(" "),n("p",[s._v("常见的接口设计中，会加入 status 字段表示状态，如 200 表示成功，401 表示认证失败。在本次接口设计中，我们通过返回端的 status 直接显示返回状态，这也与 http 的设计理念一致。")])]),s._v(" "),n("p",[s._v("另外，我们加入了 rows，其值等于 data.length，方便显示是否有数据返回，体会以下的代码：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("sample")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" res "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getSampleData")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("res"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rows"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("log")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'无数据'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("sample2")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" res "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("getSampleData")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("res"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("log")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'无数据'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"header"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#header","aria-hidden":"true"}},[s._v("#")]),s._v(" header")]),s._v(" "),n("p",[s._v("在报表系统的场景中，常常需要指定表头，考虑到表头与数据库的字段列一致，我们可以直接将 header 放在一个数组中返回，甚至在数据体的 data 结构中，以数组的方式返回数据，这样数据的传输过程中连 key 都不需要：")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"data"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("7")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"0"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("16315")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("8")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"10"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("85132")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("9")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"20"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("235152")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("10")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"30"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("468738")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("11")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"40"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("626334")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("12")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"50"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("755303")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("13")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"score"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"得分"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"60"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("863374")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"rows"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("11")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"ip"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"header"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v('"id"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"data_type"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"track_desc"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"data_value"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"data_count"')]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"title"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"测试数据-查询指定类型数据"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"time"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"14.547ms"')]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{attrs:{class:"token property"}},[s._v('"source"')]),n("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"数据来源：接口管理"')]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("到这里为止，我们清楚了如何创建接口、预览接口、前台调用接口以及接口返回的参数说明，接下来将对系统中前后端的约定做详细说明。")])])},[],!1,null,null,null);r.options.__file="new.md";t.default=r.exports},95:function(s,t,a){s.exports=a.p+"assets/img/main_03.7c59102b.png"}}]);