(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{173:function(s,a,t){"use strict";t.r(a);var n={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=t(1),r=Object(e.a)(n,function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[t("h1",{attrs:{id:"增删改查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增删改查","aria-hidden":"true"}},[s._v("#")]),s._v(" 增删改查")]),s._v(" "),t("p",[s._v("以上一节的 demo 为例，我们准备这样一段查询语句，看看在新增接口的界面中，分别点击插入、批量插入、删除、更新、查询后，前台将自动对 SQL 做怎样的转换？")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\ttbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a\n"),t("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v("\n\t"),t("span",{attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'褶子'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"插入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插入","aria-hidden":"true"}},[s._v("#")]),s._v(" 插入")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("into")]),s._v(" tbl_sample_fake_type"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("?"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("?"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("?"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"调用代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("/**\n*   @database: { 接口管理 }\n*   @desc:     { 接口测试 } \n    const { prod_name, month_name, value } = params;\n*/")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{attrs:{class:"token function-variable function"}},[s._v("addSampleFakeType")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("axios")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    url"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    params\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("调用代码中的前缀变为 add")])]),s._v(" "),t("h3",{attrs:{id:"调用成功后的返回数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用成功后的返回数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用成功后的返回数据")]),s._v(" "),t("p",[s._v("调用成功后，返回数据的 affected_rows 为 1，id 字段为最近插入数据的 id")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token property"}},[s._v('"data"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{attrs:{class:"token property"}},[s._v('"affected_rows"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{attrs:{class:"token property"}},[s._v('"id"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"批量插入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#批量插入","aria-hidden":"true"}},[s._v("#")]),s._v(" 批量插入")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("into")]),s._v(" tbl_sample_fake_type"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("values")]),s._v(" ?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"调用代码-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用代码-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("/**\n*   @database: { 接口管理 }\n*   @desc:     { 批量接口测试 } \n\t以下参数在建立过程中与系统保留字段冲突，已自动替换:\n\t@desc:批量插入数据时，约定使用二维数组values参数，格式为[{prod_name,month_name,value }]，数组的每一项表示一条数据*/")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{attrs:{class:"token function-variable function"}},[s._v("addSampleFakeType")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("values"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("axios")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    method"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'post'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    data"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      values"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      id"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("51")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      nonce"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'65b5c14441'")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("blockquote",[t("p",[s._v("调用代码中的前缀变为 add")])]),s._v(" "),t("h3",{attrs:{id:"调用成功后的返回数据-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用成功后的返回数据-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用成功后的返回数据")]),s._v(" "),t("p",[s._v("调用成功后，返回数据的 affected_rows 为插入的数据条数")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token property"}},[s._v('"data"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{attrs:{class:"token property"}},[s._v('"affected_rows"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("10")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("type")]),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"调用代码-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用代码-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("   @database"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" 接口管理 "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),t("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("   @desc"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("     "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" 接口测试 "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),t("span",{attrs:{class:"token operator"}},[s._v("*")]),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{attrs:{class:"token function-variable function"}},[s._v("delSampleFakeType")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" type "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("axios")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  url"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  params"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    type\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("blockquote",[t("p",[s._v("调用代码中的前缀变为 del")])]),s._v(" "),t("h3",{attrs:{id:"调用成功后的返回数据-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用成功后的返回数据-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用成功后的返回数据")]),s._v(" "),t("p",[s._v("调用成功后，返回数据的 affected_rows 为删除的数据条数")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token property"}},[s._v('"data"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{attrs:{class:"token property"}},[s._v('"affected_rows"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("10")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("在删除数据时，建议使用 id 字段作为参数，另外为了安全性，可以再加入另一校验字段防止误删除，如下所示 ：")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\ttbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a\n"),t("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("and")]),s._v(" a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),t("span",{attrs:{class:"token string"}},[s._v("'some prod'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[s._v("#")]),s._v(" 更新")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("update")]),s._v(" tbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" prod_name "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ?"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("month_name "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ?"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" ? "),t("span",{attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("type")]),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"调用代码-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用代码-4","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("/**\n*   @database: { 接口管理 }\n*   @desc:     { 接口测试 } \n    const { prod_name, month_name, value, type } = params;\n*/")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{attrs:{class:"token function-variable function"}},[s._v("setSampleFakeType")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("axios")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    url"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    params\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("调用代码中的前缀变为 set")])]),s._v(" "),t("h3",{attrs:{id:"调用成功后的返回数据-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用成功后的返回数据-4","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用成功后的返回数据")]),s._v(" "),t("p",[s._v("调用成功后，返回数据的 affected_rows 为删除的数据条数")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token property"}},[s._v('"data"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{attrs:{class:"token property"}},[s._v('"affected_rows"')]),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("10")]),s._v("\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("select")]),s._v(" a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("type")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a "),t("span",{attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("type")]),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"调用代码-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用代码-5","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("/**\n *   @database: { 接口管理 }\n *   @desc:     { 接口测试 }\n */")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{attrs:{class:"token function-variable function"}},[s._v("getSampleFakeType")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("axios")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    url"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'/51/65b5c14441.json'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    params"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type\n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("blockquote",[t("p",[s._v("调用代码中的前缀变为 get")])]),s._v(" "),t("h3",{attrs:{id:"调用成功后的返回数据-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用成功后的返回数据-5","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用成功后的返回数据")]),s._v(" "),t("p",[s._v("返回数据见上一节的"),t("router-link",{attrs:{to:"./new.html#接口输出字段说明"}},[s._v("接口输出字段说明")]),s._v("。")],1),s._v(" "),t("h2",{attrs:{id:"设计说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设计说明","aria-hidden":"true"}},[s._v("#")]),s._v(" 设计说明")]),s._v(" "),t("p",[s._v("在前面涉及数据更新的操作(插入、更新、删除)中，返回数据都输出了 affected_rows 字段表示影响的行数，如果是插入单条数据则同时返回 id 字段，这也与前台开发的使用场景保持一致，如有以下开发场景：")]),s._v(" "),t("ol",[t("li",[s._v("更新/删除后，前台通知提示数据是否成功变更：")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" sample "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    data"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" affected_rows "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("setTblSample")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" type"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("3")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("affected_rows"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("log")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'更新失败'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{attrs:{class:"token keyword"}},[s._v("return")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("插入数据后获取最近插入数据的 id，同时与新添加的数据一起加入到新列表中:")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" list "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" type"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'test2'")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" sample "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" param "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    type"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("3")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    name"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'test'")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    data"),t("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" affected_rows"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("addTblSample")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("param"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("affected_rows"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("log")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'更新失败'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{attrs:{class:"token keyword"}},[s._v("return")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  list"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("push")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Object"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("assign")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("param"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id "),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{attrs:{class:"token comment"}},[s._v("// 其它逻辑")]),s._v("\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("此处的参数均被替换为问号，用户可根据需要自行编写查询代码同时手工添加参数，如：")])]),s._v(" "),t("p",[s._v("无参数的场景，系统支持直接预览返回数据")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\ttbl_sample_fake_type "),t("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("自定义参数的场景")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod_name"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ta"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\ttbl_sample_fake_type a "),t("span",{attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("month_name"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("至此，我们已经对系统在数据 CRUD 层有了基本了解，并且已经可以自行设计满足基本功能要求的接口了。")]),s._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[s._v("Restful")]),s._v(" "),t("p",[s._v("在功能设计中，我们保留了 restful 的数据操作方式，但在实际使用中发现其便捷性不如本小节中所讲述的方式，故在此不做展开，有需要的可自行查阅源码。")])])])},[],!1,null,null,null);r.options.__file="crud.md";a.default=r.exports}}]);